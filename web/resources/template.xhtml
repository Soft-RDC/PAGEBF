<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="./css/default.css"/>
        <h:outputStylesheet name="./css/cssLayout.css"/>
        <link type="image/x-icon" rel="shortcut icon" href="./resources/images/favicon.ico" />
        <title><ui:insert name="title">Here goes the title</ui:insert></title>
        <style type="text/css">
            .ui-layout-north {
                z-index:20 !important;
                overflow:visible !important;;
            }
            .ui-layout-north .ui-layout-unit-content {
                overflow:visible !important;
            }
            .ui-widget {
                font-size: 75%;
            }
            .nestedUnit {
                border:0px none !important
            }
            .ui-layout-center .ui-layout-resizer {
                border:1px solid #A8A8A8;
            }
            .ui-tree-item span {
                float:left;
            }
            .ui-tree {
                border:0px none;
            }
            .ui-tabs {
                border:0px none;
            }
        </style> 
    </h:head>
    <h:body>
        <p:growl id="growl" showDetail="true" />
        <p:layout fullPage="true">
            <p:layoutUnit position="north" size="56">
                <h:form>                    
                    <p:menubar id="mbar" autoDisplay="false">
                        <p:submenu label="Fichier" icon="ui-icon-document">  
                            <p:menuitem value="New" icon="ui-icon-contact"/>
                            <p:menuitem value="Open" url="#" />  
                            <p:separator />  
                            <p:menuitem  value="Déconnexion" icon="ui-icon-extlink" />  
                        </p:submenu>
                        <p:submenu label="Edition" icon="ui-icon-pencil">  
                            <p:menuitem value="Undo" url="#" icon="ui-icon-arrowreturnthick-1-w" />  
                            <p:menuitem value="Redo" url="#" icon="ui-icon-arrowreturnthick-1-e" />  
                        </p:submenu>
                        <p:submenu label="Actions" icon="ui-icon-gear"> 
                            <p:menuitem value="Ajax" icon="ui-icon-refresh"/> 
                            <p:menuitem value="Update"  icon="ui-icon-arrowrefresh-1-w" />
                            <p:menuitem value="Save"  icon="ui-icon-disk" /> 
                        </p:submenu>
                        <p:submenu label="Aide" icon="ui-icon-help">  
                            <p:menuitem value="Contents" url="#" />  
                            <p:menuitem value="Search" icon="ui-icon-search"/>
                        </p:submenu>

                        <f:facet name="options"> 
                            <p:inputText id="searchField" style="margin-right:10px" size="30"/>
                            <p:watermark for="searchField" value="Rechercher" />

                            <p:splitButton value="Déconnexion" onclick="PF('SignOutConfirm').show();" 
                                           icon="ui-icon-extlink" style="margin-left: 10px;">  
                                <p:menuitem value="Editer mon compte" icon="ui-icon-pencil"/>
                                <p:menuitem value="Edit Password"
                                            action="editPassword"
                                            icon="ui-icon-locked">
                                </p:menuitem>
                                <p:separator />  
                                <p:menuitem value="Accueil" action="home" icon="ui-icon-home" />  
                            </p:splitButton>
                        </f:facet>
                    </p:menubar>
                </h:form>
            </p:layoutUnit>

            <p:layoutUnit position="west" size="300" header="Left" resizable="true" 
                          collapsible="true"  minSize="250">
                <h:form>
                    <p:ajaxStatus onstart="PF('statusDialog').show();" onsuccess="PF('statusDialog').hide();"/>
                    <p:panelMenu model="#{homeBean.model}" style="width: 294px;"></p:panelMenu>
                </h:form>
            </p:layoutUnit>

            <p:layoutUnit position="east" size="200" header="Right" resizable="true" 
                          closable="true" collapsible="true" effect="drop">
                <p:lightBox style="text-align:center;margin-top:20px;">
                    <h:outputLink value="resources/images/nature1.jpg" title="Nature 1" 
                                  style="margin-bottom:5px;">
                        <h:graphicImage value="resources/images/nature1_small.jpg"/>
                    </h:outputLink>
                    <h:outputLink value="resources/images/nature2.jpg" title="Nature 1" 
                                  style="margin-bottom:5px;">
                        <h:graphicImage value="resources/images/nature2_small.jpg"/>
                    </h:outputLink>
                </p:lightBox>
            </p:layoutUnit>

            <p:layoutUnit position="center">
                <ui:insert name="content">Put default content here, if any.</ui:insert>
            </p:layoutUnit>
            <h:form>
                <p:dialog modal="true" widgetVar="statusDialog" header="Exécution en cours ..."   
                          draggable="false" closable="false" resizable="false">
                    <p:graphicImage value="/resources/images/ajaxloadingbar.gif" />
                </p:dialog>
                <p:confirmDialog message="Etes-vous sûre de vouloir vous déconnecter?"
                                 header="Déconnexion" severity="alert"
                                 widgetVar="SignOutConfirm">
                    <p:commandButton value="Oui" action="signIn"
                                     oncomplete="PF('SignOutConfirm').hide()"
                                     icon="ui-icon-check"/>
                    <p:commandButton value="Non" onclick="PF('SignOutConfirm').hide();" 
                                     type="button" icon="ui-icon-close"/>
                </p:confirmDialog>
            </h:form>            
        </p:layout>
    </h:body>
</html>